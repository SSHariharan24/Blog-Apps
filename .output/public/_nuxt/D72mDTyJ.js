import{_ as w}from"./DoEVkKLb.js";import{_ as y,g as k,c as r,o as n,j as _,a as t,t as h,b as d,w as u,d as c,F as b,r as $,k as C,l as B,m as D,T as j,n as L}from"./CfMDvc24.js";import{u as P}from"./D1GSlXSz.js";const M={class:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex flex-col w-full"},N=["src"],A={class:"flex flex-col flex-1 p-5 sm:p-6 gap-2 sm:gap-3"},E={class:"flex justify-between items-start"},T={class:"text-base sm:text-lg font-semibold text-gray-800 line-clamp-2"},V={class:"text-gray-600 line-clamp-3 text-sm sm:text-base flex-1"},F={class:"flex justify-between items-center text-gray-500 text-xs sm:text-sm mt-3 sm:mt-4"},z={__name:"BlogPostCard",props:{post:{type:Object,required:!0}},emits:["delete"],setup(o,{emit:l}){const i=l,a=o,m=k(()=>{var s;return(s=a.post)!=null&&s.date?new Date(a.post.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}),f=()=>i("delete",a.post.id);return(s,p)=>{const x=w;return n(),r("div",M,[o.post.image?(n(),r("img",{key:0,src:o.post.image,alt:"Post Image",class:"w-full h-56 sm:h-64 md:h-64 object-cover"},null,8,N)):_("",!0),t("div",A,[t("div",E,[t("h2",T,h(o.post.title),1),t("button",{onClick:f,class:"bg-red-500 text-white px-3 py-1 rounded-lg hover:bg-red-600 transition text-sm sm:text-base"}," Delete ")]),t("p",V,h(o.post.description),1),t("div",F,[t("span",null,h(m.value),1),d(x,{to:`/view/${o.post.id}`,class:"text-blue-600 hover:text-blue-800 font-medium transition text-sm sm:text-base"},{default:u(()=>[...p[0]||(p[0]=[c(" Read more â†’ ",-1)])]),_:1},8,["to"])])])])}}},H=y(z,[["__scopeId","data-v-15b16e69"]]),I={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-4 sm:px-6 lg:px-0"},O={__name:"BlogPostList",props:{posts:Array},emits:["delete"],setup(o){return(l,i)=>(n(),r("div",I,[(n(!0),r(b,null,$(o.posts,a=>(n(),C(H,{key:a.id,post:a,onDelete:i[0]||(i[0]=m=>l.$emit("delete",m)),class:"w-full"},null,8,["post"]))),128))]))}},R={class:"w-full sticky top-0 z-50 bg-gradient-to-r from-cyan-500 via-blue-600 to-indigo-700 shadow-lg backdrop-blur-md"},S={class:"max-w-7xl mx-auto flex items-center justify-between px-6 py-4"},q={class:"hidden md:flex items-center gap-6"},J={class:"md:hidden relative"},G={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},K={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Q={key:0,class:"absolute right-0 mt-3 w-48 bg-white rounded-2xl shadow-2xl py-3 flex flex-col space-y-2 z-50 border border-gray-200"},U={class:"max-w-7xl mx-auto px-6 py-10"},Z={__name:"index",async setup(o){let l,i;const{data:a,refresh:m}=([l,i]=B(()=>P("/api/posts","$RcJmAH4yb5")),l=await l,i(),l);async function f(x){await $fetch(`/api/posts/${x}`,{method:"DELETE"}),m()}const s=D(!1);function p(){s.value=!s.value}return(x,e)=>{const g=w;return n(),r(b,null,[t("header",R,[t("div",S,[d(g,{to:"/",class:"flex items-center gap-2 group"},{default:u(()=>[...e[2]||(e[2]=[t("span",{class:"text-white text-2xl font-extrabold tracking-wide group-hover:scale-105 transition"},[c(" Blog"),t("span",{class:"text-yellow-400"},"APP")],-1)])]),_:1}),t("div",q,[d(g,{to:"/create",class:"bg-green-400 text-black px-5 py-2 rounded-xl font-semibold shadow-md hover:bg-green-300 hover:scale-105 transition"},{default:u(()=>[...e[3]||(e[3]=[c(" + Create ",-1)])]),_:1})]),t("div",J,[t("button",{onClick:p,class:"text-white text-2xl p-2 rounded-md hover:bg-blue-500 transition"},[s.value?(n(),r("svg",K,[...e[5]||(e[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(n(),r("svg",G,[...e[4]||(e[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))]),d(j,{name:"slide-fade"},{default:u(()=>[s.value?(n(),r("div",Q,[d(g,{to:"/create",class:"px-4 py-2 text-blue-700 font-semibold rounded-lg hover:bg-blue-50 transition",onClick:e[0]||(e[0]=v=>s.value=!1)},{default:u(()=>[...e[6]||(e[6]=[c(" Create ",-1)])]),_:1}),d(g,{to:"/",class:"px-4 py-2 text-blue-700 font-medium rounded-lg hover:bg-gray-100 transition",onClick:e[1]||(e[1]=v=>s.value=!1)},{default:u(()=>[...e[7]||(e[7]=[c(" Home ",-1)])]),_:1})])):_("",!0)]),_:1})])])]),t("main",U,[d(O,{posts:L(a),onDelete:f},null,8,["posts"])])],64)}}};export{Z as default};
